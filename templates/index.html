{% extends "base.html" %}

{% block title %}CodeXam - Elite Coding Arena{% endblock %}

{% block meta_description %}Master algorithms, dominate interviews, and prove your skills in the digital battleground. Join the elite coding arena.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-100 py-5">
            <div class="col-lg-6">
                <div class="hero-content animate-slide-up">
                    <!-- Terminal-style prompt -->
                    <div class="terminal-prompt mb-4">
                        <span class="text-accent text-mono">&gt; ELITE_CODER_MODE</span>
                        <span class="text-muted animate-pulse">_</span>
                    </div>
                    
                    <!-- Main headline with glitch effect -->
                    <h1 class="hero-title mb-4">
                        Elite Coding <span class="text-accent">Arena</span>
                    </h1>
                    
                    <!-- Subtitle -->
                    <p class="hero-subtitle mb-4 text-secondary">
                        The hardcore coding challenge engine for serious developers. Master 
                        algorithms, dominate interviews, and prove your skills in the digital 
                        battleground.
                    </p>
                    
                    <!-- Terminal status -->
                    <div class="terminal-status mb-5">
                        <div class="status-line">
                            <span class="text-accent">‚óè</span>
                            <span class="text-mono text-sm">System ready. Challenges loading...</span>
                        </div>
                    </div>
                    
                    <!-- CTA Buttons -->
                    <div class="hero-actions">
                        <a href="{{ url_for('problems_list') }}" class="btn-cyber-primary me-3">
                            <span>Initialize_Challenge()</span>
                            <span class="ms-2">‚Üí</span>
                        </a>
                        <button class="btn-cyber-secondary" onclick="showPreview()">
                            <span>// Preview_Demo</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="hero-visual">
                    <!-- Code visualization -->
                    <div class="code-preview cyber-card">
                        <div class="code-header">
                            <div class="code-tabs">
                                <span class="tab active">solution.py</span>
                            </div>
                            <div class="code-status">
                                <span class="status-dot animate-pulse"></span>
                                <span class="text-mono text-sm">Auto-save enabled</span>
                            </div>
                        </div>
                        <div class="code-content">
                            <pre class="text-mono"><code><span class="text-muted">1</span>  <span class="text-accent">def</span> <span class="text-primary">solution</span>(<span class="text-warning">nums</span>, <span class="text-warning">target</span>):
<span class="text-muted">2</span>      <span class="text-accent">for</span> <span class="text-warning">i</span> <span class="text-accent">in</span> <span class="text-info">range</span>(<span class="text-info">len</span>(<span class="text-warning">nums</span>)):
<span class="text-muted">3</span>          <span class="text-accent">for</span> <span class="text-warning">j</span> <span class="text-accent">in</span> <span class="text-info">range</span>(<span class="text-warning">i</span> + <span class="text-info">1</span>, <span class="text-info">len</span>(<span class="text-warning">nums</span>)):
<span class="text-muted">4</span>              <span class="text-accent">if</span> <span class="text-warning">nums</span>[<span class="text-warning">i</span>] + <span class="text-warning">nums</span>[<span class="text-warning">j</span>] == <span class="text-warning">target</span>:
<span class="text-muted">5</span>                  <span class="text-accent">return</span> [<span class="text-warning">i</span>, <span class="text-warning">j</span>]
<span class="text-muted">6</span>      <span class="text-accent">return</span> []</code></pre>
                        </div>
                        <div class="code-footer">
                            <div class="execution-result">
                                <span class="result-status status-accepted">‚úì Accepted</span>
                                <span class="result-time">Runtime: 76ms</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Statistics Section -->
<section class="stats-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title">
                    <span class="text-accent">Combat</span> Statistics
                </h2>
                <p class="text-secondary">Real-time battlefield metrics</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-3 col-sm-6">
                <div class="stat-card cyber-card text-center">
                    <div class="stat-icon mb-3">‚ö°</div>
                    <div class="stat-value text-accent">{{ stats.total_problems or '500+' }}</div>
                    <div class="stat-label text-muted">ACTIVE PROBLEMS</div>
                    <div class="stat-trend text-success">
                        <small>‚Üó +20 from last month</small>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 col-sm-6">
                <div class="stat-card cyber-card text-center">
                    <div class="stat-icon mb-3">üë•</div>
                    <div class="stat-value text-accent">{{ stats.total_users or '2.5K' }}</div>
                    <div class="stat-label text-muted">DAILY USERS</div>
                    <div class="stat-trend text-success">
                        <small>‚Üó +15% from last week</small>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 col-sm-6">
                <div class="stat-card cyber-card text-center">
                    <div class="stat-icon mb-3">üéØ</div>
                    <div class="stat-value text-accent">{{ stats.total_submissions or '892' }}</div>
                    <div class="stat-label text-muted">SUBMISSIONS TODAY</div>
                    <div class="stat-trend text-success">
                        <small>‚Üó +8% from yesterday</small>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 col-sm-6">
                <div class="stat-card cyber-card text-center">
                    <div class="stat-icon mb-3">üìà</div>
                    <div class="stat-value text-accent">48.2%</div>
                    <div class="stat-label text-muted">AVG. SUCCESS RATE</div>
                    <div class="stat-trend text-warning">
                        <small>‚Üò -2% from last month</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title">
                    Elite Developer <span class="text-accent">Arsenal</span>
                </h2>
                <p class="text-secondary">Professional-grade tools built for serious coders who demand excellence</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="feature-card cyber-card text-center h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-wrapper">
                            <span class="text-accent">üíª</span>
                        </div>
                    </div>
                    <h4 class="feature-title mb-3">Clean Code Editor</h4>
                    <p class="feature-description text-secondary">
                        Built-in Python editor with syntax highlighting and instant feedback.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="feature-card cyber-card text-center h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-wrapper">
                            <span class="text-accent">‚ö°</span>
                        </div>
                    </div>
                    <h4 class="feature-title mb-3">Instant Evaluation</h4>
                    <p class="feature-description text-secondary">
                        Get immediate results with our lightning-fast code execution engine.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="feature-card cyber-card text-center h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-wrapper">
                            <span class="text-accent">üéØ</span>
                        </div>
                    </div>
                    <h4 class="feature-title mb-3">Skill Building</h4>
                    <p class="feature-description text-secondary">
                        Progress through problems from beginner to advanced levels.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="feature-card cyber-card text-center h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-wrapper">
                            <span class="text-accent">üë•</span>
                        </div>
                    </div>
                    <h4 class="feature-title mb-3">Community Driven</h4>
                    <p class="feature-description text-secondary">
                        Learn from others and share your solutions with the community.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <div class="cta-content cyber-card">
                    <h2 class="cta-title mb-4">
                        Initialize Your Elite Journey
                    </h2>
                    <p class="cta-description text-secondary mb-5">
                        Join the ranks of elite developers mastering their craft through battle-tested challenges
                    </p>
                    
                    <!-- Terminal command -->
                    <div class="terminal-command mb-4">
                        <div class="command-line">
                            <span class="text-accent text-mono">&gt;</span>
                            <span class="text-mono">Enter_Arena()</span>
                            <span class="text-muted">‚Üí</span>
                        </div>
                        <div class="command-comment text-muted text-mono">
                            // Documentation
                        </div>
                    </div>
                    
                    <div class="cta-actions">
                        <a href="{{ url_for('problems_list') }}" class="btn-cyber-primary me-3">
                            <span>Access All Challenges</span>
                            <span class="ms-2">‚Üí</span>
                        </a>
                    </div>
                    
                    <!-- System status -->
                    <div class="system-status mt-4">
                        <span class="text-accent text-mono">‚óè System Status: ONLINE ‚óè</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
/* Hero Section Styles */
.hero-section {
    background: 
        radial-gradient(circle at 20% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(0, 255, 136, 0.05) 0%, transparent 50%);
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        linear-gradient(45deg, transparent 49%, rgba(0, 255, 136, 0.02) 50%, transparent 51%),
        linear-gradient(-45deg, transparent 49%, rgba(0, 255, 136, 0.02) 50%, transparent 51%);
    background-size: 60px 60px;
    opacity: 0.3;
    pointer-events: none;
}

.hero-title {
    font-size: 4rem;
    font-weight: 800;
    font-family: var(--font-display);
    line-height: 1.1;
    margin-bottom: 2rem;
}

.hero-subtitle {
    font-size: 1.25rem;
    line-height: 1.6;
    max-width: 500px;
}

.terminal-prompt {
    font-family: var(--font-mono);
    font-size: 0.875rem;
    padding: 0.5rem 1rem;
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid rgba(0, 255, 136, 0.2);
    border-radius: 0.25rem;
    display: inline-block;
}

.terminal-status {
    font-family: var(--font-mono);
    font-size: 0.875rem;
}

.status-line {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.hero-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

/* Code Preview Styles */
.code-preview {
    background: var(--bg-accent);
    border: 1px solid var(--border-primary);
    border-radius: 0.75rem;
    overflow: hidden;
    font-family: var(--font-mono);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

.code-header {
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-primary);
    padding: 0.75rem 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.tab {
    background: rgba(0, 255, 136, 0.1);
    color: var(--accent-primary);
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    border: 1px solid rgba(0, 255, 136, 0.3);
}

.code-status {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.status-dot {
    width: 8px;
    height: 8px;
    background: var(--accent-primary);
    border-radius: 50%;
}

.code-content {
    padding: 1.5rem;
    background: var(--bg-accent);
}

.code-content pre {
    margin: 0;
    background: none;
    border: none;
    padding: 0;
    font-size: 0.875rem;
    line-height: 1.6;
}

.code-footer {
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-primary);
    padding: 0.75rem 1rem;
}

.execution-result {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 0.875rem;
}

.result-status {
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    font-weight: 600;
}

.result-time {
    color: var(--text-secondary);
}

/* Stats Section */
.stats-section {
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-primary);
    border-bottom: 1px solid var(--border-primary);
}

.stat-card {
    padding: 2rem 1.5rem;
    transition: var(--transition-normal);
}

.stat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 255, 136, 0.15);
}

.stat-icon {
    font-size: 2.5rem;
    opacity: 0.8;
}

.stat-value {
    font-size: 2.5rem;
    font-weight: 800;
    font-family: var(--font-mono);
    margin-bottom: 0.5rem;
}

.stat-label {
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-bottom: 0.5rem;
}

.stat-trend {
    font-size: 0.75rem;
}

/* Features Section */
.feature-card {
    padding: 2.5rem 2rem;
    transition: var(--transition-normal);
}

.feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 255, 136, 0.15);
}

.icon-wrapper {
    width: 80px;
    height: 80px;
    background: rgba(0, 255, 136, 0.1);
    border: 2px solid rgba(0, 255, 136, 0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    font-size: 2rem;
}

.feature-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
}

.feature-description {
    font-size: 0.95rem;
    line-height: 1.6;
}

/* CTA Section */
.cta-section {
    background: 
        radial-gradient(circle at 50% 50%, rgba(0, 255, 136, 0.05) 0%, transparent 70%);
}

.cta-content {
    padding: 3rem 2rem;
    text-align: center;
}

.cta-title {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
}

.cta-description {
    font-size: 1.125rem;
    line-height: 1.6;
    max-width: 600px;
    margin: 0 auto 2rem auto;
}

.terminal-command {
    background: var(--bg-accent);
    border: 1px solid var(--border-primary);
    border-radius: 0.5rem;
    padding: 1.5rem;
    font-family: var(--font-mono);
    max-width: 400px;
    margin: 0 auto;
}

.command-line {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.command-comment {
    font-size: 0.875rem;
    text-align: left;
}

.system-status {
    font-size: 0.875rem;
    padding: 0.5rem 1rem;
    background: rgba(0, 255, 136, 0.05);
    border: 1px solid rgba(0, 255, 136, 0.2);
    border-radius: 0.25rem;
    display: inline-block;
}

/* Section Titles */
.section-title {
    font-size: 2.5rem;
    font-weight: 700;
    font-family: var(--font-display);
    margin-bottom: 1rem;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-subtitle {
        font-size: 1rem;
    }
    
    .hero-actions {
        justify-content: center;
    }
    
    .code-preview {
        margin-top: 2rem;
    }
    
    .stat-value {
        font-size: 2rem;
    }
    
    .section-title {
        font-size: 2rem;
    }
    
    .cta-title {
        font-size: 2rem;
    }
}

@media (max-width: 480px) {
    .hero-title {
        font-size: 2rem;
    }
    
    .feature-card,
    .stat-card {
        padding: 1.5rem 1rem;
    }
    
    .cta-content {
        padding: 2rem 1rem;
    }
}
</style>
{% endblock %}

{% block extra_js %}
<script>
function showPreview() {
    // Simple demo function - could expand to show interactive demo
    alert('üöÄ Demo: This would show an interactive coding challenge preview!');
}

// Add some dynamic effects
document.addEventListener('DOMContentLoaded', function() {
    // Animate stats on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-slide-up');
            }
        });
    }, observerOptions);
    
    // Observe stat cards and feature cards
    document.querySelectorAll('.stat-card, .feature-card').forEach(card => {
        observer.observe(card);
    });
    
    // Add typing effect to terminal prompt
    const terminalPrompt = document.querySelector('.terminal-prompt');
    if (terminalPrompt) {
        const cursor = terminalPrompt.querySelector('.animate-pulse');
        if (cursor) {
            setInterval(() => {
                cursor.style.opacity = cursor.style.opacity === '0' ? '1' : '0';
            }, 800);
        }
    }
});
</script>
{% endblock %}